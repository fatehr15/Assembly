# ğŸ§  **Assembly Function Library**

> A lightweight **x86-64 assembly** library offering utility functions for numbers, strings, and arrays with a C-callable interface.

---

## ğŸ“š **Table of Contents**

1. [ğŸ“– Project Overview](#project-overview)
2. [ğŸ“ Directory Structure](#directory-structure)
3. [âš™ï¸ Prerequisites](#prerequisites)
4. [ğŸ›  Building](#building)
5. [ğŸš€ Usage](#usage)
6. [ğŸ§© API Reference](#api-reference)

   * [ğŸ”¢ Number Operations](#number-operations)
   * [ğŸ”¤ String Operations](#string-operations)
   * [ğŸ“Š Array Operations](#array-operations)
7. [âœ… Testing](#testing)
8. [ğŸ Debugging Guide](#debugging-guide)
9. [ğŸ”§ Tools](#tools)
10. [ğŸ¤ Contributing](#contributing)
11. [ğŸ“„ License](#license)

---

## ğŸ“– **Project Overview**

This project implements a collection of utility routines in **x86-64 assembly**, exposing a **C-callable interface** for:

* ğŸ”¢ Digit summation & factorial computation
* âœ”ï¸ Even number checking
* ğŸ“ String length & emptiness checking
* ğŸ”„ Array printing, reversing & sorting

â¡ï¸ These routines are wrapped via `c_wrapper.c` and demoed in `main.c`.

---

## ğŸ“ **Directory Structure**

```plaintext
project/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ assembly_library.asm   # ğŸ§  Assembly code
â”‚   â”œâ”€â”€ c_wrapper.c            # ğŸ”— C interface
â”‚   â””â”€â”€ main.c                 # ğŸš€ Entry point
â”œâ”€â”€ include/
â”‚   â””â”€â”€ assembly_library.h     # ğŸ“„ API header
â”œâ”€â”€ build/
â”‚   â”œâ”€â”€ assembly_library.o     # ğŸ§± ASM object
â”‚   â”œâ”€â”€ c_wrapper.o            # âš™ï¸ C object
â”‚   â””â”€â”€ asm_test               # âœ… Executable
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ unit_tests.c           # ğŸ” Unit tests
â”‚   â””â”€â”€ benchmark.c            # â± Benchmarking
â”œâ”€â”€ tools/
â”‚   â”œâ”€â”€ debug_helpers.py       # ğŸ GDB helpers
â”‚   â”œâ”€â”€ reg_tracker.py         # ğŸ“ˆ Register tracker
â”‚   â””â”€â”€ mem_access.py          # ğŸ§  Mem visualizer
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ assembly_docs.md       # ğŸ“˜ ASM docs
â”‚   â””â”€â”€ debugging_guide.md     # ğŸ›  Debug tips
â””â”€â”€ Makefile                   # ğŸ”§ Build logic
```

---

## âš™ï¸ **Prerequisites**

âœ… Make sure the following tools are installed:

* ğŸ§° **GCC** (>= 7.0)
* ğŸ§µ **NASM** (>= 2.13)
* ğŸ§ª **Criterion** (for testing)
* ğŸ **Python 3.x** (for utilities)

---

## ğŸ›  **Building**

```bash
# ğŸ”¨ Build everything
make all

# ğŸ§¹ Clean build artifacts
make clean
```

**ğŸ”– Makefile Targets:**

* `all`: Build all components
* `clean`: Remove build directory

---

## ğŸš€ **Usage**

```bash
cd build
./asm_test
```

ğŸ’¡ This runs a demonstration using all implemented functions.

---

## ğŸ§© **API Reference**

### ğŸ”¢ **Number Operations**

| Function      | Prototype                   | ğŸ“ Description            |
| ------------- | --------------------------- | ------------------------- |
| `sumOfDigits` | `int sumOfDigits(int num);` | ğŸ”¢ Sum of digits in `num` |
| `factorial`   | `long factorial(int num);`  | ğŸ“ˆ Compute `num!`         |
| `isEven`      | `bool isEven(int num);`     | âœ”ï¸ True if number is even |

### ğŸ”¤ **String Operations**

| Function       | Prototype                            | ğŸ“ Description                      |
| -------------- | ------------------------------------ | ----------------------------------- |
| `stringLength` | `int stringLength(const char* str);` | ğŸ“ Length of null-terminated string |
| `isEmpty`      | `bool isEmpty(const char* str);`     | âš ï¸ True if string is empty          |

### ğŸ“Š **Array Operations**

| Function       | Prototype                                 | ğŸ“ Description                 |
| -------------- | ----------------------------------------- | ------------------------------ |
| `printArray`   | `void printArray(int arr[], int size);`   | ğŸ–¨ï¸ Print elements to `stdout` |
| `reverseArray` | `void reverseArray(int arr[], int size);` | ğŸ”„ Reverse array in place      |
| `bubbleSort`   | `void bubbleSort(int arr[], int size);`   | ğŸ”ƒ Sort using Bubble Sort      |

---

## âœ… **Testing**

ğŸ§ª Run unit tests using **Criterion**:

```bash
# ğŸ§ª Build tests
gcc -Wall -Wextra -Iinclude -o build/unit_tests tests/unit_tests.c build/assembly_library.o build/c_wrapper.o -lcriterion

# ğŸš€ Run tests
./build/unit_tests
```

ğŸ“Š Benchmarks are in `tests/benchmark.c`

---

## ğŸ **Debugging Guide**

ğŸ“– For a full guide, see `docs/debugging_guide.md`

### ğŸ”§ Common GDB Commands

```bash
gdb build/asm_test
(gdb) info registers     # ğŸ“‹ Show all register values
(gdb) stepi              # ğŸ¾ Step one instruction
(gdb) x/10xw $rsp        # ğŸ” Inspect stack
```

### âŒ Common Segfault Causes

* ğŸ§± Invalid memory access
* ğŸŒ€ Stack misalignment
* ğŸ’£ Null pointer dereference

---

## ğŸ”§ **Tools**

* `reg_tracker.py`: ğŸ“ˆ Real-time register tracker + CSV export
* `mem_access.py`: ğŸ§  Memory access log parser and visualizer
* `debug_helpers.py`: ğŸ GDB macros and helpers

---

## ğŸ¤ **Contributing**

ğŸ‘‹ Contributions are welcome! Open issues or submit a PR for improvements.

---

## ğŸ“„ **License**

ğŸ“ This project is licensed under the **MIT License**. See `LICENSE` for details.
